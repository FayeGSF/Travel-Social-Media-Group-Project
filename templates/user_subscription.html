{% extends 'userbase.html' %}

{% block title %}User Subscription{% endblock %}

{% set active_page = 'subscription' %}

{% block content %}
<div class="user_subscription container justify-content-start">
    <h4>Subscriptions</h4>
       {% if user_subscription %}
       <table class=" table">
           <thead>
               <tr>
                   <th scope="col">Start Date</th>
                   <th scope="col">End Date</th>
                   <th scope="col">Type</th>
                   <th scope="col">Amount</th>
                   <th scope="col">Status</th>
                   <th scope ="col">Receipt</th>
               </tr>
           </thead>
           <tbody>
               {% for record in user_subscription %}
               <tr>
                   <td>{{ record.start_date }}</td>
                   <td>{{ record.end_date }}</td>
                   <td>{{ record.type }}</td>
                   <td>{{ record.amount }}</td>
                   <td>{{ record.status }}</td>
                   <td>
                    <a href="{{ url_for('subscriptions.generate_receipt', subscription_id=record.subscription_id) }}">Download</a>
                  </td>
               </tr>
               {% endfor %}
           </tbody>
       </table>
       {% else %}
       <p>No subscriptions found.</p>
       {% endif %}
   </div>
{% endblock %}